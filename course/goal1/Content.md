# 🧮 結束新手村-開始實作！

## 📚 課程概述 Course Overview

從這週開始，我們將會開始進行實作，從建立一個新的專案、初始化設定、建立導覽列、串接導航列頁面、實作各項功能。

### 課程目標

[Goal.md](../../Goal.md)

### 1. 🚀 開新專案

#### 📌 建立專案

請先建立一個新的專案  請使用 小寫英文作為專案名稱

```bash
npx create-next-app@latest project-goal
```

![1748186208237](image/Content/1748186208237.png)

#### 📦 安裝依賴

進入資料夾並安裝 PrimeReact Icons

```bash
cd project-goal
npm install primereact primeicons
```

#### 🎨 修改CSS設定

##### 1️⃣ 引入 PrimeReact CSS

在 `src\app\layout.tsx` 貼上 CSS

```tsx
import "primereact/resources/themes/saga-blue/theme.css";
import "primereact/resources/primereact.min.css";
import "primeicons/primeicons.css";
```

##### 2️⃣ 修改 globals.css

```css
/* @import "tailwindcss"; */

@layer theme, base, components, utilities;
@import "tailwindcss/theme.css" layer(theme);
@import "tailwindcss/utilities.css" layer(utilities);
```

#### 🧩 建立導覽列

##### 1️⃣ 建立必要資料夾

在 `src\` 資料夾中建立 `components` 資料夾
在 `src\components` 中建立 `NavBar.tsx` 檔案

##### 2️⃣ 實作導覽列元件

```tsx
"use client";
import { Menubar } from "primereact/menubar";
import { Button } from "primereact/button";
import { useRouter } from "next/navigation";

export default function NavBar() {
    const router = useRouter();
    const items = [
        {
            label: "首頁 Home",
            icon: "pi pi-home",
            command: () => router.push("/"),
        },
        {
            label: "多層選單",
            icon: "pi pi-check",
            items: [
                {
                    label: "頁面一",
                    icon: "pi pi-plus",
                    command: () => router.push("/page1"),
                },
                {
                    label: "頁面二",
                    icon: "pi pi-plus",
                    command: () => router.push("/page2"),
                },
            ],
        },
    ];
    const end = (
        <div className="flex align-items-center gap-2">
            <Button icon="pi pi-user" rounded text />
        </div>
    );

    return (
        <div className="card">
            <Menubar model={items} end={end} />
        </div>
    );
}
```

##### 3️⃣ 整合導覽列

在 `src\app\layout.tsx` 中引入 NavBar， `import NavBar from "@/components/NavBar";` 並在 `{children}` 之前加入 `<NavBar />` 元件

```tsx
import type { Metadata } from "next";
import { Geist, Geist_Mono } from "next/font/google";
import "./globals.css";
import "primereact/resources/themes/saga-blue/theme.css";
import "primereact/resources/primereact.min.css";
import "primeicons/primeicons.css";
import NavBar from "@/components/NavBar";


const geistSans = Geist({
  variable: "--font-geist-sans",
  subsets: ["latin"],
});

const geistMono = Geist_Mono({
  variable: "--font-geist-mono",
  subsets: ["latin"],
});

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body
        className={`${geistSans.variable} ${geistMono.variable} antialiased h-screen flex flex-col m-0`}
      >
        <NavBar />
        <div className="flex-1 overflow-auto">
          {children}
        </div>
      </body>
    </html>
  );
}

```

#### 🚀 啟動專案

使用 `npm run dev` 啟動專案並進行驗證成果
![1748264002244](image/Content/1748264002244.png)

#### 📝 練習

請實作在 自己的 practice 專案

##### ✅ 建立 project-practice 專案

- 建立 project-practice 專案
- 安裝 PrimeReact PrimeIcons
- 設置 Tailwind CSS

### 2. 📝 串接導航列頁面

建立註冊頁面

![1748271985371](image/Content/1748271985371.png)

#### 📌 建立註冊頁面

在NavBar中新增註冊頁面連結 `\src\components\NavBar.tsx`

```tsx
        {
            label: "註冊 Register",
            icon: "pi pi-user",
            command: () => router.push("/register"),
        },
```

在 `src\app\register\page.tsx` 中建立註冊頁面

```tsx
"use client";

import { useState } from "react";
import { Card } from "primereact/card";
import { InputText } from "primereact/inputtext";
import { RadioButton } from "primereact/radiobutton";
import { Button } from "primereact/button";

interface FormData {
    name: string; // 姓名
    email: string; // 電子郵件
    password: string; // 密碼
    gender: string; // 性別
}

export default function MemberForm() {
    // 表單狀態
    const [formData, setFormData] = useState<FormData>({
        name: "",
        email: "",
        password: "",
        gender: "",
    });


    // 處理表單提交
    const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {
        e.preventDefault();
        const formDataString =
            "姓名: " +
            formData.name +
            "\n" +
            "電子郵件: " +
            formData.email +
            "\n" +
            "密碼: " +
            formData.password +
            "\n" +
            "性別: " +
            formData.gender +
            "\n";
        alert("表單資料: \n" + formDataString);
    };

    return (
        // css flex: 使用 flexbox 來排版
        // justify-center: 主軸置中(在flex時 因為預設是水平軸為主軸  所以在此是水平置中)
        // items-center: 副軸置中(在flex時 因為預設是水平軸為主軸  所以在此是水平置中)
        // min-h-screen: 最小高度為螢幕高度
        <div className="flex justify-center items-center min-h-screen">
            <Card title="會員註冊" className="w-full max-w-md">
                <form onSubmit={handleSubmit} className="flex flex-col gap-4">
                    <div className="flex flex-col gap-2">
                        <label htmlFor="name">
                            姓名
                        </label>
                        <InputText
                            id="name"
                            value={formData.name}
                            onChange={(e) =>
                                setFormData({ ...formData, name: e.target.value })
                            }
                        />
                    </div>

                    <div className="flex flex-col gap-2">
                        <label htmlFor="email">電子郵件</label>
                        <InputText
                            id="email"
                            type="email"
                            value={formData.email}
                            onChange={(e) =>
                                setFormData({ ...formData, email: e.target.value })
                            }
                        />
                    </div>

                    <div className="flex flex-col gap-2">
                        <label htmlFor="password">密碼</label>
                        <InputText
                            id="password"
                            type="password"
                            value={formData.password}
                            onChange={(e) =>
                                setFormData({ ...formData, password: e.target.value })
                            }
                        />
                    </div>

                    <div className="flex flex-col gap-2">
                        <label>性別</label>
                        <div className="flex gap-4">
                            <div className="flex items-center">
                                <RadioButton
                                    inputId="male"
                                    name="gender"
                                    value="male"
                                    checked={formData.gender === "male"}
                                    onChange={(e) =>
                                        setFormData({ ...formData, gender: e.value })
                                    }
                                />
                                <label htmlFor="male" className="ml-2">
                                    男性
                                </label>
                            </div>
                            <div className="flex items-center">
                                <RadioButton
                                    inputId="female"
                                    name="gender"
                                    value="female"
                                    checked={formData.gender === "female"}
                                    onChange={(e) =>
                                        setFormData({ ...formData, gender: e.value })
                                    }
                                />
                                <label htmlFor="female" className="ml-2">
                                    女性
                                </label>
                            </div>
                        </div>
                    </div>
                    <Button type="submit" label="註冊" className="mt-4" />
                </form>
            </Card>
        </div>
    );
}

```

#### 📝 驗證成果

訪問 `http://localhost:3000/register` 進行驗證成果

#### ✅ 練習

  請實作在 自己的 practice 專案

##### ➕ 新增聯絡人

- 📝 姓名
- 📞 電話
- 📧 電子郵件
- 📝 備註

### 3. 📝 實作登入功能

#### 📌 建立登入頁面

![1748271996717](image/Content/1748271996717.png)

在NavBar中新增登入頁面連結 `\src\components\NavBar.tsx`

```tsx
{
    label: "登入 Login",
    icon: "pi pi-user",
    command: () => router.push("/login"),
},
```

在 `src\app\login\page.tsx` 中建立登入頁面

```tsx
"use client";
import { useState } from "react";
import { Card } from "primereact/card";
import { InputText } from "primereact/inputtext";
import { Checkbox } from "primereact/checkbox";
import { Button } from "primereact/button";

// 宣告一個 FormDataIF 介面，裡面有 email, password, rememberMe 屬性 用於存放 表單資料
interface FormDataIF {
    email: string; // 帳號
    password: string; // 密碼
    rememberMe: boolean; // 記住我
}
// 宣告一個 UserInfoIF 介面，裡面有 name, email, password, gender 屬性 用於顯示 使用者資訊
interface UserInfoIF {
    name: string; // 姓名
    email: string; // 電子郵件
    password: string; // 密碼
    gender: string; // 性別
}

// 宣告一個 service 物件，裡面有 getUserInfo 方法  若是有串後端API 則在此處串接
const service = {
    getUserInfo: (email: string, password: string): UserInfoIF | null => {
        if (email === "test@test.com" && password === "123456") {
            return {
                email: "test@test.com",
                password: "123456",
                name: "測試人名",
                gender: "男性",
            };
        }
        return null;
    },
};

export default function LoginForm() {

    // 宣告一個 formData 變數，用於存放 表單資料
    const [formData, setFormData] = useState<FormDataIF>({
        email: "",
        password: "",
        rememberMe: false,
    });

    // 宣告一個 userInfo 變數，用於存放 登入後使用者資訊
    const [userInfo, setUserInfo] = useState<UserInfoIF | undefined>(undefined);

    // 宣告一個 isInfoVisible 變數，用於控制 使用者資訊是否顯示
    const [isInfoVisible, setIsInfoVisible] = useState<boolean>(false);

    // 宣告一個 error 變數，用於存放 錯誤訊息
    const [error, setError] = useState<string | undefined>(undefined);

    // 宣告一個 handleLogin 方法，用於處理 登入
    const handleLogin = () => {
        // 呼叫 service 物件的 getUserInfo 方法，並將 formData 的 email 和 password 傳入
        const resultUserInfo = service.getUserInfo(formData.email, formData.password);
        // 如果 resultUserInfo 有值
        if (resultUserInfo) {
            // 將 resultUserInfo 的值設定給 userInfo 變數
            setUserInfo(resultUserInfo);
            // 將 isInfoVisible 設為 true
            setIsInfoVisible(true);
            // 將 error 設為 undefined
            setError(undefined);
        }
        // 如果 resultUserInfo 沒有值
        else {
            // 將 isInfoVisible 設為 false
            setIsInfoVisible(false);
            // 將 error 設為 "帳號或密碼錯誤"
            setError("帳號或密碼錯誤");
        }
    };



    // 宣告一個css 變數 ： 垂直排列  水平(副軸)靠左 各元件間距 間距為 0.5rem
    const cssUserInfoItem = 'flex flex-col items-start gap-2 ';


    return (
        <div className="flex justify-center items-center h-full bg-gray-100 gap-4">
            <Card className="w-96" title="登入">
                <div className="space-y-4">
                    {/* tip */}
                    <p className="text-gray-500">
                        帳號: test@test.com
                        <br />
                        密碼: 123456
                    </p>
                    <div className="space-y-2">
                        <label
                            htmlFor="email"
                            className="block font-medium text-gray-700"
                        >
                            Email
                        </label>
                        <InputText
                            id="email"
                            value={formData.email}
                            onChange={(e) =>
                                setFormData({ ...formData, email: e.target.value })
                            }
                            className="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                        />
                    </div>
                    <div className="space-y-2">
                        <label
                            htmlFor="password"
                            className="block font-medium text-gray-700"
                        >
                            密碼
                        </label>
                        <InputText
                            id="password"
                            type="password"
                            value={formData.password}
                            onChange={(e) =>
                                setFormData({ ...formData, password: e.target.value })
                            }
                            className="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                        />
                    </div>
                    <div className="flex items-center gap-2">
                        <div>
                            <Checkbox
                                inputId="rememberMe"
                                checked={formData.rememberMe}
                                onChange={(e) =>
                                    setFormData({ ...formData, rememberMe: e.checked ?? false })
                                }
                            />
                            <label htmlFor="rememberMe" className="ml-2 text-gray-700">
                                記住我
                            </label>
                        </div>
                        {error &&
                            <p id='error' className="text-red-500">
                                {error}
                            </p>
                        }
                    </div>
                    <Button
                        label="登入"
                        type="submit"
                        className="w-full bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-md transition-colors duration-200"
                        onClick={handleLogin}
                    />
                </div>
            </Card>

            <Card title="使用者資訊" className={`w-96 ${isInfoVisible ? '' : 'hidden'}`}>
                <div className="flex flex-col gap-4 ">
                    <div className={`${cssUserInfoItem}`}>
                        <label htmlFor="email" className="font-medium">Email:</label>
                        <div className="p-2 bg-gray-100 rounded">
                            {userInfo?.email}
                        </div>
                    </div>
                    <div className={`${cssUserInfoItem}`}>
                        <label htmlFor="password" className="font-medium">密碼:</label>
                        <div className="p-2 bg-gray-100 rounded">
                            {userInfo?.password}
                        </div>
                    </div>
                    <div className={`${cssUserInfoItem}`}>
                        <label htmlFor="name" className="font-medium">姓名:</label>
                        <div className="p-2 bg-gray-100 rounded">
                            {userInfo?.name}
                        </div>
                    </div>
                    <div className={`${cssUserInfoItem}`}>
                        <label htmlFor="gender" className="font-medium">性別:</label>
                        <div className="p-2 bg-gray-100 rounded">
                            {userInfo?.gender}
                        </div>
                    </div>
                </div>
            </Card>

        </div>
    );
}

```

#### 📝 CSS 單位說明

| 單位    | 基準來源             | 是否會累加  | 用途建議               | 表示方式   | 實際大小（預設字體為 16px 時） |
| ------- | -------------------- | ----------- | ---------------------- | ---------- | ------------------------------ |
| `px`  | 固定像素             | ❌ 不會累加 | 精確控制、邊框、圖片等 | `8px`    | 8px                            |
| `em`  | 父元素的字體大小     | ✅ 會累加   | 區塊內比例控制         | `0.5em`  | 0.5 × 父元素字體大小          |
| `rem` | 根元素（`<html>`） | ❌ 不會累加 | 響應式、整體一致性設計 | `0.5rem` | 0.5 × 16px =**8px**     |

🔍 補充說明：

    em 若父元素字體是 20px，則 0.5em = 10px

    rem 永遠參考`<html>` 字體大小（預設 16px）

    Tailwind 中像 gap-2 就是 gap: 0.5rem; → 約等於 8px

#### 📦 Flex 排版對照表

| Flex 設定                | 主軸方向 | 副軸方向 | `justify-*`（主軸對齊）                                                              | `items-*`（副軸對齊）                                                              |
| ------------------------ | -------- | -------- | -------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------ |
| `flex` or `flex-row` | 水平     | 垂直     | `justify-start` → 靠左<br />`justify-end` → 靠右<br />`justify-center` → 置中 | `items-start` → 靠上<br />`items-end` → 靠下<br />`items-center` → 垂直置中 |
| `flex-col`             | 垂直     | 水平     | `justify-start` → 靠上<br />`justify-end` → 靠下<br />`justify-center` → 置中 | `items-start` → 靠左<br />`items-end` → 靠右<br />`items-center` → 水平置中 |

🧠 補充記憶技巧：

    justify-* 是主軸對齊（主軸 = flex 方向）

    items-* 是副軸對齊（副軸 = 垂直於主軸的方向）

#### 📝 驗證成果

訪問 `http://localhost:3000/login` 進行驗證成果

#### ✅ 練習

請實作在 自己的 practice 專案

##### 👀 檢視聯絡人

- 🔍 查詢框
- 📊 查詢後顯示查詢結果
- 包含以下資訊：
  - 📝 姓名
  - 📞 電話
  - 👥 學制
  - 📧 電子郵件
  - 📝 備註

### 4. 📝 實作會員管理功能

#### 📌 建立會員管理頁面

本頁面以PrimeReact的DataTable元件 為主軸進行實作
並結合 PrimeReact的Tag元件 進行狀態標籤的顯示

![1748272675984](image/Content/1748272675984.png)

DataTable元件
官方文件： [https://primereact.org/datatable/](https://primereact.org/datatable/)

### 1. 基本設定

**範例**

```tsx
            <DataTable
                value={users}
                paginator
                rows={5}
                rowsPerPageOptions={[5, 10, 25, 50]}
                paginatorTemplate="FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown"
                currentPageReportTemplate="顯示第 {first} 到 {last} 筆，共 {totalRecords} 筆"
                className="p-datatable-sm"
            >
```

1. **引入必要元件**

   - 引入 DataTable 和 Column 元件
2. **資料綁定**

   - 使用 `value` 屬性設定資料來源
   - 例如：`value={users}`

### 2. 分頁功能設定

1. **基本分頁**

   - `paginator`：啟用分頁功能
   - `rows`：設定每頁顯示筆數
   - 例如：`rows={5}`
2. **分頁選項**

   - `rowsPerPageOptions`：設定每頁顯示筆數選項
   - 例如：`rowsPerPageOptions={[5, 10, 25, 50]}`
3. **分頁模板**

   - `paginatorTemplate`：設定分頁按鈕
   - 例如：`paginatorTemplate="FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown"`
4. **分頁顯示格式**

   - `currentPageReportTemplate`：設定分頁資訊顯示格式
   - 例如：`currentPageReportTemplate="顯示第 {first} 到 {last} 筆，共 {totalRecords} 筆"`

### 3. 樣式設定

- `className`：設定 DataTable 的樣式
- 例如：`className="p-datatable-sm"`

### 4. 欄位設定（Column 元件）

1. **基本屬性**

   - `field`：設定資料來源欄位
   - `header`：設定欄位標題
   - `sortable`：啟用排序功能
   - `className`：設定欄位寬度
2. **範例**

```tsx
<Column
    field="email"
    header="電子郵件"
    sortable
    className="w-[25%]"
/>
```

Tag元件
官方文件： [https://primereact.org/tag/](https://primereact.org/tag/)

在NavBar中新增會員管理頁面連結 `\src\components\NavBar.tsx`

```tsx
{
    label: "會員管理 Member Management",
    icon: "pi pi-user",
    command: () => router.push("/members"),
},
```

在 `src\app\members\page.tsx` 中建立會員管理頁面

```tsx
"use client";
import { useState } from "react";
import { DataTable } from "primereact/datatable";
import { Column } from "primereact/column";
import { Button } from "primereact/button";
import { Tag } from "primereact/tag";

interface User {
    id: number;
    name: string;
    email: string;
    status: string;
    password: string;
    lastLogin: string;
}

export default function UserList() {
    // 使用者資料
    const [users] = useState<User[]>([
        {
            id: 1,
            name: "王小明",
            email: "ming@example.com",
            password: "123456",
            status: "active",
            lastLogin: "2024-03-15 14:30",
        },
        {
            id: 2,
            name: "李小華",
            email: "hua@example.com",
            password: "123456",
            status: "active",
            lastLogin: "2024-03-15 13:45",
        },
        {
            id: 3,
            name: "張小美",
            email: "mei@example.com",
            password: "123456",
            status: "active",
            lastLogin: "2024-03-14 09:20",
        },
    ]);

    // 狀態標籤模板
    const statusTemplate = (rowData: User) => {
        return (
            <Tag
                value={rowData.status === "active" ? "啟用" : "停用"}
                severity={rowData.status === "active" ? "success" : "danger"}
            />
        );
    };

    // 操作按鈕模板
    const actionTemplate = (rowData: User) => {
        return (
            <div className="flex gap-2">
                <Button
                    icon="pi pi-pencil"
                    className="p-button-rounded p-button-text p-button-sm"
                    tooltip="編輯"
                    onClick={() => alert(`編輯 ${rowData.name}`)}
                />
                <Button
                    icon="pi pi-trash"
                    className="p-button-rounded p-button-text p-button-danger p-button-sm"
                    tooltip="刪除"
                    onClick={() => alert(`刪除 ${rowData.name}`)}
                />
            </div>
        );
    };

    return (
        <div className="card">
            <DataTable
                value={users}
                paginator
                rows={5}
                rowsPerPageOptions={[5, 10, 25, 50]}
                paginatorTemplate="FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown"
                currentPageReportTemplate="顯示第 {first} 到 {last} 筆，共 {totalRecords} 筆"
                className="p-datatable-sm"
            >
                <Column
                    field="id"
                    header="ID"
                    sortable
                    className="w-[5%]"
                />
                <Column
                    field="name"
                    header="姓名"
                    sortable
                    className="w-[15%]"
                />
                <Column
                    field="email"
                    header="電子郵件"
                    sortable
                    className="w-[25%]"
                />
                <Column
                    field="password"
                    header="密碼"
                    sortable
                    className="w-[15%]"
                />
                <Column
                    field="status"
                    header="狀態"
                    body={statusTemplate}
                    sortable
                    className="w-[15%]"
                />
                <Column
                    field="lastLogin"
                    header="最後登入"
                    sortable
                    className="w-[15%]"
                />
                <Column
                    body={actionTemplate}
                    header="操作"
                    className="w-[10%]"
                />
            </DataTable>
        </div>
    );
}

```

#### 📝 驗證成果

訪問 `http://localhost:3000/members` 進行驗證成果

#### ✅ 練習

請實作在 自己的 practice 專案

##### 📋 聯絡人管理

可列出所有聯絡人，包含以下資訊：

- 📝 姓名
- 📞 電話
- 👥 學制
- 📧 電子郵件
- 📝 備註

### 5. 📝 實作購物車功能

使用useState 搭配複雜的物件陣列 實作渲染計算
在useState中設定物件陣列 `products`初始值
使用.map 方式渲染 商品列表

![1748265854273](image/Content/1748265854273.png)

#### 📌 建立購物車頁面

在NavBar中新增購物車頁面連結 `\src\components\NavBar.tsx`

```tsx
{
    label: "購物車 Shopping Cart",
    icon: "pi pi-shopping-cart",
    command: () => router.push("/cart"),
},
```

在 `src\app\cart\page.tsx` 中建立購物車頁面

```tsx
"use client";
import { useState } from "react";
import { InputNumber } from "primereact/inputnumber";
import { Button } from "primereact/button";
import { Card } from "primereact/card";

interface Product {
    id: number;
    name: string;
    price: number;
    quantity: number;
}

export default function ShoppingCart() {
    // 商品列表狀態
    const [products, setProducts] = useState<Product[]>([
        { id: 1, name: "商品 A", price: 100, quantity: 0 },
        { id: 2, name: "商品 B", price: 200, quantity: 0 },
        { id: 3, name: "商品 C", price: 300, quantity: 0 },
    ]);

    // 總金額狀態
    const [total, setTotal] = useState<number>(0);

    // 更新商品數量
    const updateQuantity = (id: number, quantity: number) => {

        setProducts(
            // 遍歷 products 陣列每一個商品 類似for迴圈
            products.map((product) =>
                // 如果商品 id 與要更新的 id 相同，則更新數量，否則保持原樣
                product.id === id ? { ...product, quantity } : product
            )
        );

    };

    // 計算總金額
    const calculateTotal = () => {
        let sum = 0; // 用來累加總金額
        for (const product of products) {
            sum += product.price * product.quantity;
        }
        setTotal(sum); // 設定總金額
    };

    // 生成採購單內容
    const generatePurchaseOrder = () => {
        const date = new Date().toLocaleDateString('zh-TW');
        let content = `採購單\n日期：${date}\n\n`;
        content += '商品名稱\t數量\t單價\t小計\n';
        content += '----------------------------------------\n';

        products.forEach(product => {
            if (product.quantity > 0) {
                content += `${product.name}\t${product.quantity}\t${product.price}\t${product.price * product.quantity}\n`;
            }
        });

        content += '----------------------------------------\n';
        content += `總金額：${total}`;

        return content;
    };

    // 列印採購單
    const printPurchaseOrder = () => {
        const printWindow = window.open('', '_blank');
        if (printWindow) {
            const content = `
                <html>
                    <head>
                        <title>採購單</title>
                        <style>
                            body {
                                font-family: Arial, sans-serif;
                                padding: 20px;
                            }
                            pre {
                                white-space: pre-wrap;
                                font-family: monospace;
                                font-size: 14px;
                                line-height: 1.5;
                            }
                            @media print {
                                body {
                                    padding: 0;
                                }
                            }
                        </style>
                        <script>
                            function printAndClose() {
                                window.print();
                                // 使用 setTimeout 確保列印對話框出現後再關閉
                                setTimeout(function() {
                                    window.close();
                                }, 1000);
                            }
                            // 頁面載入完成後執行
                            window.onload = printAndClose;
                        </script>
                    </head>
                    <body>
                        <pre>${generatePurchaseOrder()}</pre>
                    </body>
                </html>
            `;
            printWindow.document.write(content);
            printWindow.document.close();
        }
    };

    return (
        <Card title="購物車" className="shadow-lg rounded-xl bg-slate-50">
            <div className="flex flex-col overflow-x-auto">
                {/* 標題列 */}
                <div className="flex flex-row items-center font-bold text-base border-b py-2 bg-gray-100">
                    <div className="flex-1 text-left pl-2">商品名稱</div>
                    <div className="flex-1 text-blue-700 text-center">單價</div>
                    <div className="flex-1 text-center">數量</div>
                    <div className="flex-1 text-green-700 text-center">小計</div>
                </div>
                {products.map((product) => (
                    <div
                        key={product.id}
                        className="flex flex-row items-center rounded-lg shadow mb-2 bg-white gap-2 p-2"
                    >
                        <div className="flex-1 font-bold">{product.name}</div>
                        <div className="flex-1 text-blue-600 text-center">${product.price}</div>
                        <div className="flex-1 flex justify-center">
                            <InputNumber
                                value={product.quantity}
                                onValueChange={(e) => updateQuantity(product.id, e.value || 0)}
                                showButtons
                                min={0}
                                max={10}
                                className="w-20"
                            />
                        </div>
                        <div className="flex-1 text-green-600 font-semibold text-center">
                            小計: ${product.price * product.quantity}
                        </div>
                    </div>
                ))}

                <div className="flex flex-col items-center gap-4 mt-4">
                    <Button label="計算總金額" onClick={calculateTotal} className="rounded-full px-8 py-3 text-lg bg-blue-500 hover:bg-blue-600 text-white font-semibold shadow" />
                    <div className="text-2xl font-bold text-green-600">總金額: ${total}</div>

                    {/* 採購單顯示區域 */}
                    {total > 0 && (
                        <div className="mt-4 p-4 bg-white rounded-lg shadow w-full max-w-2xl">
                            <div className="flex justify-between items-center mb-4">
                                <h3 className="text-xl font-bold">簡易採購單</h3>
                                <Button
                                    icon="pi pi-print"
                                    label="列印採購單"
                                    onClick={printPurchaseOrder}
                                    className="p-button-rounded p-button-outlined"
                                />
                            </div>
                            <pre className="whitespace-pre-wrap font-mono text-sm">
                                {generatePurchaseOrder()}
                            </pre>
                        </div>
                    )}
                </div>
            </div>
        </Card>
    );
}

```

#### 📝 驗證成果

訪問 `http://localhost:3000/cart` 進行驗證成果

#### ✅ 練習

請實作在 自己的 practice 專案

##### 📋 訂單填寫

包含以下欄位：

- 📦 品名
- 🔢 數量
- 💰 單價
- 📊 小計(自動計算)
- 💵 總計(自動計算)

##### 📋 訂單明細

- 📤 送出訂單後顯示訂單明細

## 📝 延伸閱讀

1. 頁面驗證登入狀態的機制
2. React Context API是什麼
3. 響應式設計的實作技巧 Tailwind CSS 的響應式設計
4. 試著做出自己喜歡的 css Class 讓每次使用元件時 可以直接套用。 以下推薦一個 容器需要包含多元素  的CSS
   ```
   .flex-items {
       align-items: center;
       display: flex;
       flex-direction: row;
       flex-wrap: wrap;
       justify-content: flex-start;
       white-space: nowrap;
   }
   ```
5. 嘗試著將過去的功能做成Component  讓Page.tsx引用 讓同樣的元件可以重複使用
